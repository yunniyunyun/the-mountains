import{c as r,l as g}from"./cartStore-709403e6.js";import{_ as m,m as _,A as b,r as f,o as a,c as l,b as v,a as t,F as d,B as p,f as C,t as n,e as c,E as x,G as y}from"./index-d7f509c9.js";import"./sweetalert2.all-e66135d4.js";const k=r(),V={data(){return{products:[],loadingItem:""}},computed:{..._(r,["cart"]),..._(g,["isLoading"])},methods:{...b(r,["deleteCart","updateCart","getCarts"])},mounted(){k.getCarts()}},S=t("div",{class:"header",style:{"background-image":"url(./src/images/home/carts2.avif)","background-position":"50% 23%","background-size":"cover",height:"30vh"}},null,-1),B={class:"container"},L=t("h2",{class:"mt-5 text-light text-center"},"購物車",-1),N=t("div",{class:"text-end"},null,-1),U={class:"table align-middle text-light"},$=t("thead",null,[t("tr",null,[t("th"),t("th",null,"品名"),t("th",null,"單價"),t("th",{style:{width:"150px"}},"數量/單位"),t("th")])],-1),q=["disabled","onClick"],w=t("i",{class:"fas fa-spinner fa-pulse"},null,-1),I=["src","alt"],A={class:"input-group input-group-sm"},D=["onUpdate:modelValue","disabled","onChange"],E=["value"],F={class:"text-end"},j=t("small",{class:"text-success"},"小計：",-1),z=t("td",null,null,-1),G=t("td",{colspan:"3",class:"text-end"},"總計",-1),M={class:"text-end"},T=t("td",null,null,-1),H=t("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),J={class:"text-end text-success"};function K(s,i,O,P,u,Q){const h=f("loadingVue");return a(),l(d,null,[v(h,{active:s.isLoading,"onUpdate:active":i[0]||(i[0]=e=>s.isLoading=e)},null,8,["active"]),S,t("div",B,[L,N,t("table",U,[$,t("tbody",null,[s.cart.carts?(a(!0),l(d,{key:0},p(s.cart.carts,e=>(a(),l("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:e.id===u.loadingItem,onClick:o=>s.deleteCart(e)},[w,c(" x ")],8,q)]),t("td",null,[t("img",{src:e.product.imageUrl,class:"table-image me-3",alt:e.product.title,style:{height:"100px","object-fit":"contain",width:"150px"}},null,8,I),c(" "+n(e.product.title),1)]),t("td",null,n(e.product.price),1),t("td",null,[t("div",A,[x(t("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":o=>e.qty=o,disabled:e.id===u.loadingItem,onChange:o=>s.updateCart(e)},[(a(),l(d,null,p(10,o=>t("option",{value:o,key:`${o}qty`},n(o),9,E)),64))],40,D),[[y,e.qty]])])]),t("td",F,[j,c(" "+n(e.final_total),1)])]))),128)):C("",!0)]),t("tfoot",null,[t("tr",null,[z,G,t("td",M,n(s.cart.total),1)]),t("tr",null,[T,H,t("td",J,n(s.cart.final_total),1)])])])])],64)}const Y=m(V,[["render",K]]);export{Y as default};
