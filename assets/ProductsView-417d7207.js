import{S as P}from"./sweetalert2.all-d8f4ea95.js";import{_ as L,e as V,r as l,o as a,c as i,a as d,b as u,d as e,F as _,f as b,t as T,w as k}from"./index-811e4a0b.js";const{VITE_APP_URL:p,VITE_APP_PATH:h}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"winter_",BASE_URL:"/vue-hw-7/",MODE:"production",DEV:!1,PROD:!0},v={data(){return{isLoading:!1,products:[]}},components:{RouterLink:V},methods:{getProducts(){this.$http.get(`${p}/api/${h}/products/all`).then(s=>{this.isLoading=!1,this.products=s.data.products}).catch(s=>{this.isLoading=!1,console.dir(s)})},addToCart(s,o=1){const r={product_id:s,qty:o};this.$http.post(`${p}/api/${h}/cart`,{data:r}).then(c=>{P.fire({icon:"success",title:c.data.message,showConfirmButton:!1,timer:1500})})}},mounted(){this.isLoading=!0,this.getProducts()}},w={class:"table"},E=["src"],$=["onClick"];function A(s,o,r,c,n,m){const f=l("loadingVue"),g=l("RouterLink");return a(),i(_,null,[d(" 這是產品列表 "),u(f,{active:n.isLoading,"onUpdate:active":o[0]||(o[0]=t=>n.isLoading=t)},null,8,["active"]),e("table",w,[e("tbody",null,[(a(!0),i(_,null,b(n.products,t=>(a(),i("tr",{key:t.id},[e("td",null,T(t.title),1),e("td",null,[e("img",{src:t.imageUrl,width:"200",alt:""},null,8,E)]),e("td",null,[u(g,{to:`/product/${t.id}`,class:"btn btn-outline-secondary"},{default:k(()=>[d("查看產品")]),_:2},1032,["to"]),e("button",{type:"button",class:"ms-2 btn btn-outline-primary",onClick:C=>m.addToCart(t.id)},"加入購物車",8,$)])]))),128))])])],64)}const y=L(v,[["render",A]]);export{y as default};
