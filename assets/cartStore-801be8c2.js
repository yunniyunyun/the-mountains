import{f as u,g as a}from"./index-695e9cad.js";const{VITE_APP_URL:d,VITE_APP_PATH:i}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"winter_",BASE_URL:"/vue-hw-7/",MODE:"production",DEV:!1,PROD:!0},p=u("productsStore",{state:()=>({products:[]}),actions:{getProducts(){a.get(`${d}/api/${i}/products/all`).then(t=>{this.products=t.data.products}).catch(t=>{console.dir(t)})}},getters:{productsList:({products:t})=>{let s=[];return a.get(`${d}/api/${i}/products/all`).then(r=>{t=r.data.products,s=r.data.products}).catch(r=>{console.dir(r)}),{product:s}},sortProducts:({products:t})=>t.sort((s,r)=>s.price-r.price)}}),l=u("cart",{state:()=>({cart:[]}),actions:{addToCart(t,s=1){const r=this.cart.find(c=>c.productId===t);r?r.qty+=s:this.cart.push({id:new Date().getTime(),productId:t,qty:s})},setCartQty(t,s){const r=this.cart.find(c=>c.id===t);r.qty=s.target.value*1},removeCartItem(t){const s=this.cart.findIndex(r=>r.id===t);this.cart.splice(s,1)}},getters:{cartList:({cart:t})=>{const{products:s}=p(),r=t.map(o=>{const e=s.find(n=>n.id===o.productId);return{...o,product:e,subtotal:e.price*o.qty}}),c=r.reduce((o,e)=>o+e.subtotal,0);return{carts:r,total:c}}}});export{l as c,p};
