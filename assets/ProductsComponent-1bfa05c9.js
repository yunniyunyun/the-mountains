import{l as m,c as S}from"./cartStore-488a185e.js";import{p as C}from"./PaginationVue-5ff0def6.js";import{g as w,h as $,_ as y,m as p,A as l,r as a,o as n,c as r,b as c,a as o,F as u,B as A,w as L,t as _,C as T,y as V,z as E}from"./index-54b0c91a.js";import{S as I}from"./sweetalert2.all-0d548db6.js";const{VITE_APP_URL:k,VITE_APP_PATH:R}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"winter_",BASE_URL:"/vue-hw-7/",MODE:"production",DEV:!1,PROD:!0},{loadingTrue:b,loadingFalse:g}=m(),i=w("productsStore",{state:()=>({products:[],pages:{}}),actions:{getProducts(t=1){b(),$.get(`${k}/api/${R}/products/?page=${t}`).then(s=>{this.products=s.data.products,this.pages=s.data.pagination,g()}).catch(s=>{I.fire({icon:"error",title:s.response.data.message}),g()})}},getters:{sortProducts:({products:t})=>t.sort((s,d)=>s.price-d.price)}});const B=i(),U={components:{pagination:C},computed:{...p(i,["products","pages"]),...p(m,["isLoading"])},methods:{...l(S,["addToCart"]),...l(i,["getProducts"])},mounted(){B.getProducts()}},h=t=>(V("data-v-1365245f"),t=t(),E(),t),x=h(()=>o("div",{class:"header"},null,-1)),D={class:"container"},F=h(()=>o("div",{class:"mt-5"},null,-1)),H={class:"row row-cols-5 my-3 g-4"},M={class:"card"},N=["src"],O={class:"card-body d-flex flex-column"},z={class:"card-title mb-auto"},j={class:"float-end text-end"},q=["onClick"];function G(t,s,d,J,K,Q){const P=a("loadingVue"),f=a("RouterLink"),v=a("pagination");return n(),r(u,null,[c(P,{active:t.isLoading,"onUpdate:active":s[0]||(s[0]=e=>t.isLoading=e)},null,8,["active"]),x,o("div",D,[F,o("div",H,[(n(!0),r(u,null,A(t.products,e=>(n(),r("div",{class:"col card-group",key:e.id},[o("div",M,[c(f,{to:`/product/${e.id}`},{default:L(()=>[o("img",{src:e.imageUrl,class:"card-img-top",alt:"...",style:{height:"150px"}},null,8,N)]),_:2},1032,["to"]),o("div",O,[o("h6",z,_(e.title),1),o("span",j,"$ "+_(e.price),1),o("a",{href:"#",class:"btn btn-outline-primary w-100 mt-2",onClick:T(W=>t.addToCart(e.id),["prevent"])},"加入購物車",8,q)])])]))),128))]),c(v,{pages:t.pages,"get-products":t.getProducts,onChangePage:t.getProducts},null,8,["pages","get-products","onChangePage"])])],64)}const ot=y(U,[["render",G],["__scopeId","data-v-1365245f"]]);export{ot as default};
