import{c as _}from"./cartStore-070deaca.js";import{l as x}from"./loadingStore-cc88de8f.js";import{_ as C,m as y,D as k,r as g,o as n,c as d,b as u,a as t,F as i,B as p,g as f,t as a,w as h,I as w,f as r,G as S,J as I,p as V,h as q}from"./index-47d87b33.js";import"./sweetalert2.all-44e3db16.js";const B=_(),L={data(){return{products:[],loadingItem:""}},computed:{...y(_,["cart"]),...y(x,["isLoading"])},methods:{...k(_,["deleteCart","updateCart","getCarts"])},mounted(){B.getCarts()}},l=s=>(V("data-v-1942023d"),s=s(),q(),s),$=l(()=>t("div",{class:"header"},null,-1)),N={class:"container mb-5"},U=l(()=>t("div",{class:"d-flex justify-content-center text-secondary",style:{"margin-top":"60px"}},[t("div",{class:"position-relative m-4",style:{width:"60%"}},[t("div",{class:"progress",style:{height:"4px"}},[t("div",{class:"progress-bar",role:"progressbar",style:{width:"33%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),t("button",{type:"button",class:"position-absolute top-0 start-0 translate-middle btn btn-sm btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}},"1"),t("h5",{class:"position-absolute",style:{top:"-26px",left:"10%",color:"#1FBA82"}},"確認內容"),t("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",left:"33%"}},"2"),t("h5",{class:"position-absolute",style:{top:"-26px",left:"45%"}},"填寫資料"),t("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",left:"66%"}},"3"),t("h5",{class:"position-absolute",style:{top:"-26px",left:"78%"}},"訂單完成"),t("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",left:"99%"}})])],-1)),j=l(()=>t("h2",{class:"mt-5 text-light text-center mb-3"},"購物車內容",-1)),D=l(()=>t("div",{class:"text-end"},null,-1)),F={class:"table align-middle text-light"},A=l(()=>t("thead",null,[t("tr",null,[t("th"),t("th",null,"品名"),t("th",null,"單價"),t("th",{style:{width:"150px"}},"數量/單位"),t("th")])],-1)),R=["disabled","onClick"],E=l(()=>t("i",{class:"fas fa-spinner fa-pulse"},null,-1)),G=["src","alt"],J={class:"input-group input-group-sm"},M=["onUpdate:modelValue","disabled","onChange"],T=["value"],z=["value"],H={class:"text-end"},K=l(()=>t("small",{class:"text-success"},"小計：",-1)),O=l(()=>t("td",null,null,-1)),P=l(()=>t("td",{colspan:"3",class:"text-end"},"總計",-1)),Q={class:"text-end"},W=l(()=>t("td",null,null,-1)),X=l(()=>t("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1)),Y={class:"text-end text-success"},Z={class:"d-flex justify-content-end mt-4"};function tt(s,m,et,st,b,ot){const v=g("loadingVue"),c=g("RouterLink");return n(),d(i,null,[u(v,{active:s.isLoading,"onUpdate:active":m[0]||(m[0]=e=>s.isLoading=e)},null,8,["active"]),$,t("div",N,[U,j,D,t("table",F,[A,t("tbody",null,[s.cart.carts?(n(!0),d(i,{key:0},p(s.cart.carts,e=>(n(),d("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:e.id===b.loadingItem,onClick:o=>s.deleteCart(e)},[E,r(" x ")],8,R)]),t("td",null,[u(c,{to:`/product/${e.product.id}`},{default:h(()=>[t("img",{src:e.product.imageUrl,class:"table-image me-3",alt:e.product.title,style:{height:"100px","object-fit":"cover",width:"150px"}},null,8,G)]),_:2},1032,["to"]),r(" "+a(e.product.title),1)]),t("td",null,a(e.product.price),1),t("td",null,[t("div",J,[S(t("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":o=>e.qty=o,disabled:e.id===b.loadingItem,onChange:o=>s.updateCart(e)},[e.qty<=10?(n(),d(i,{key:0},p(10,o=>t("option",{value:o,key:`${o}qty`},a(o),9,T)),64)):(n(!0),d(i,{key:1},p(e.qty,o=>(n(),d("option",{value:o,key:o+"qty"},a(o),9,z))),128))],40,M),[[I,e.qty]])])]),t("td",H,[K,r(" "+a(e.final_total),1)])]))),128)):f("",!0)]),t("tfoot",null,[t("tr",null,[O,P,t("td",Q,a(s.cart.total),1)]),t("tr",null,[W,X,t("td",Y,a(s.cart.final_total),1)])])]),t("div",Z,[u(c,{to:"/products",class:"btn btn-outline-primary me-2"},{default:h(()=>[r("繼續購物")]),_:1}),s.cart.carts.length!==0?(n(),w(c,{key:0,to:"/checkout",class:"btn btn-primary"},{default:h(()=>[r("下一步 | 填寫資料")]),_:1})):f("",!0)])])],64)}const rt=C(L,[["render",tt],["__scopeId","data-v-1942023d"]]);export{rt as default};
