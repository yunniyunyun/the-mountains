import{d as u,a as e}from"./pinia-e6b04fcb.js";import{S as a}from"./sweetalert2.all-fda0963d.js";import{l as i}from"./loadingStore-abd78020.js";const{VITE_APP_URL:c,VITE_APP_PATH:d}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"winter_",BASE_URL:"/the-mountains/",MODE:"production",DEV:!1,PROD:!0},{loadingTrue:p,loadingFalse:o}=i(),h=u("productsStore",{state:()=>({products:[],pages:{}}),actions:{getProducts(r=1){p(),e.get(`${c}/api/${d}/products/?page=${r}`).then(t=>{this.products=t.data.products,this.pages=t.data.pagination,o()}).catch(t=>{a.fire({icon:"error",title:t.response.data.message}),o()})},getAllProducts(){p(),e.get(`${c}/api/${d}/products/all`).then(r=>{this.products=r.data.products,o()}).catch(r=>{a.fire({icon:"error",title:r.response.data.message}),o()})}},getters:{sortProducts:({products:r})=>r.sort((t,s)=>t.price-s.price),homeProducts:({products:r})=>r.filter(t=>(t==null?void 0:t.is_home)===1),hotProducts:({products:r})=>r.filter(t=>(t==null?void 0:t.is_hot)===1),hotHomeProducts:({products:r})=>r.filter(t=>(t==null?void 0:t.is_hot)===1).slice(0,4),latestProducts:({products:r})=>r.sort((t,s)=>t.create_at-s.create_at).slice(0,5)}});export{h as p};
