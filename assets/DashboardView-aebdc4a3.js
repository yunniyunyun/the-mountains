import{R as m}from"./vue-router-d7550456.js";import{n as v}from"./runtime-dom.esm-bundler-ff2db17e.js";import{b7 as f,aw as l,ak as u,m as p,u as t,n as e,b2 as n,l as k,F as b,t as i,ao as x,al as L}from"./_plugin-vue_export-helper-21b08155.js";const{VITE_APP_URL:V}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"winter_",BASE_URL:"/the-mountains/",MODE:"production",DEV:!1,PROD:!0};document.querySelector("body").style.background="#FFFFFF";const w={data(){return{isLogin:!1,isLoading:!1}},components:{RouterView:m},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.isLogin=!1,this.$router.push("/login")},checkLogin(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=o,this.$http.post(`${V}/api/user/check`).then(a=>{this.isLoading=!1,this.isLogin=!0,a.data.success||this.$router.push("/login")}).catch(()=>{this.isLoading=!1,this.$router.push("/login")})}},mounted(){this.isLoading=!0,this.checkLogin()}},_=o=>(x("data-v-fd885666"),o=o(),L(),o),R={class:"container"},A={key:0},$={class:"navbar navbar-expand-lg navbar-dark bg-dark navbar-custom"},F={class:"container-fluid"},N=_(()=>e("a",{class:"navbar-brand",href:"#"},"Navbar",-1)),P=_(()=>e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1)),T={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},y={class:"navbar-nav"};function E(o,a,I,D,r,d){const h=l("loadingVue"),s=l("RouterLink"),g=l("RouterView");return u(),p(b,null,[t(h,{active:r.isLoading,"onUpdate:active":a[0]||(a[0]=c=>r.isLoading=c)},null,8,["active"]),e("div",R,[r.isLogin?(u(),p("div",A,[e("nav",$,[e("div",F,[N,P,e("div",T,[e("div",y,[t(s,{to:"/admin/products",class:"p-2 me-2 text-decoration-none link-light"},{default:n(()=>[i(" 產品列表")]),_:1}),t(s,{to:"/admin/orders",class:"p-2 me-2 text-decoration-none link-light"},{default:n(()=>[i(" 訂單列表")]),_:1}),t(s,{to:"/admin/coupons",class:"p-2 me-2 text-decoration-none link-light"},{default:n(()=>[i(" 優惠券")]),_:1}),t(s,{to:"/admin/article",class:"p-2 me-2 text-decoration-none link-light"},{default:n(()=>[i(" 文章")]),_:1}),t(s,{to:"/",class:"p-2 me-2 text-decoration-none link-light"},{default:n(()=>[i(" 回前台首頁")]),_:1}),e("a",{href:"#",onClick:a[1]||(a[1]=v((...c)=>d.logout&&d.logout(...c),["prevent"])),class:"p-2 me-2 text-decoration-none link-light"},"登出")])])])]),t(g)])):k("",!0)])],64)}const C=f(w,[["render",E],["__scopeId","data-v-fd885666"]]);export{C as default};
