import{c as r,l as m}from"./cartStore-488a185e.js";import{_ as b,m as p,A as v,r as C,o as l,c as d,b as f,a as t,F as c,B as h,f as y,t as n,e as i,E as x,G as S,y as V,z as k}from"./index-54b0c91a.js";import"./sweetalert2.all-0d548db6.js";const I=r(),w={data(){return{products:[],loadingItem:""}},computed:{...p(r,["cart"]),...p(m,["isLoading"])},methods:{...v(r,["deleteCart","updateCart","getCarts"])},mounted(){I.getCarts()}},o=s=>(V("data-v-4587b7a2"),s=s(),k(),s),B=o(()=>t("div",{class:"header"},null,-1)),L={class:"container"},N=o(()=>t("h2",{class:"mt-5 text-light text-center"},"購物車",-1)),U=o(()=>t("div",{class:"text-end"},null,-1)),$={class:"table align-middle text-light"},q=o(()=>t("thead",null,[t("tr",null,[t("th"),t("th",null,"品名"),t("th",null,"單價"),t("th",{style:{width:"150px"}},"數量/單位"),t("th")])],-1)),A=["disabled","onClick"],D=o(()=>t("i",{class:"fas fa-spinner fa-pulse"},null,-1)),E=["src","alt"],F={class:"input-group input-group-sm"},j=["onUpdate:modelValue","disabled","onChange"],z=["value"],G={class:"text-end"},M=o(()=>t("small",{class:"text-success"},"小計：",-1)),T=o(()=>t("td",null,null,-1)),H=o(()=>t("td",{colspan:"3",class:"text-end"},"總計",-1)),J={class:"text-end"},K=o(()=>t("td",null,null,-1)),O=o(()=>t("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1)),P={class:"text-end text-success"};function Q(s,u,R,W,_,X){const g=C("loadingVue");return l(),d(c,null,[f(g,{active:s.isLoading,"onUpdate:active":u[0]||(u[0]=e=>s.isLoading=e)},null,8,["active"]),B,t("div",L,[N,U,t("table",$,[q,t("tbody",null,[s.cart.carts?(l(!0),d(c,{key:0},h(s.cart.carts,e=>(l(),d("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:e.id===_.loadingItem,onClick:a=>s.deleteCart(e)},[D,i(" x ")],8,A)]),t("td",null,[t("img",{src:e.product.imageUrl,class:"table-image me-3",alt:e.product.title,style:{height:"100px","object-fit":"contain",width:"150px"}},null,8,E),i(" "+n(e.product.title),1)]),t("td",null,n(e.product.price),1),t("td",null,[t("div",F,[x(t("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":a=>e.qty=a,disabled:e.id===_.loadingItem,onChange:a=>s.updateCart(e)},[(l(),d(c,null,h(10,a=>t("option",{value:a,key:`${a}qty`},n(a),9,z)),64))],40,j),[[S,e.qty]])])]),t("td",G,[M,i(" "+n(e.final_total),1)])]))),128)):y("",!0)]),t("tfoot",null,[t("tr",null,[T,H,t("td",J,n(s.cart.total),1)]),t("tr",null,[K,O,t("td",P,n(s.cart.final_total),1)])])])])],64)}const et=b(w,[["render",Q],["__scopeId","data-v-4587b7a2"]]);export{et as default};
