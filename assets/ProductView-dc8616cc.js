import{c as b}from"./cartStore-01d32aea.js";import{l as k}from"./loadingStore-44f701ee.js";import{f as _}from"./favoriteStore-942f3ea4.js";import{_ as I,m,B as v,r as h,o as n,c as d,b as u,a as t,t as r,F as g,C as P,g as T,H as V,I as x,w as C,f as w,p as D,h as L}from"./index-00515f93.js";import"./sweetalert2.all-6e9d9825.js";import"./productsStore-c2dd6523.js";const{VITE_APP_URL:S,VITE_APP_PATH:q}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"winter_",BASE_URL:"/the-mountains/",MODE:"production",DEV:!1,PROD:!0},A={data(){return{loading:!1,product:{},qty:1}},computed:{...m(k,["isLoading"]),...m(_,["favoriteIDs"])},methods:{...v(b,["addToCart"]),...v(_,["addToFavorite","removeFavoriteItem"]),grtProduct(){this.loading=!0;const{id:s}=this.$route.params;this.$http.get(`${S}/api/${q}/product/${s}`).then(e=>{this.product=e.data.product,this.loading=!1})}},mounted(){this.loading=!0,this.grtProduct()}},c=s=>(D("data-v-d0f251d1"),s=s(),L(),s),E=c(()=>t("div",{class:"header"},null,-1)),U={class:"container"},F={class:"row mt-5"},N={class:"col-5"},R=["src"],j={class:"col-7 text-light"},B={class:"mb-2"},H={key:0,class:"mb-3"},M={key:1,class:"h5 text-end"},O={key:2,class:"d-flex align-items-end justify-content-end"},z={class:"h6 me-2"},G={class:"h4"},J=c(()=>t("hr",null,null,-1)),K={class:"d-flex justify-content-end"},Q={class:"input-group input-group-sm",style:{width:"120px"}},W=["disabled"],X={class:"d-flex justify-content-end mt-3"},Y=c(()=>t("div",{class:"text-light p-5 bg-dark my-4"},[t("h3",null,"注意事項"),t("ol",{class:"mb-0 h5",style:{"line-height":"2em"}},[t("li",null,"本產品包含申請入山入園證，請提供正確的個人資料"),t("li",null,"如有特殊病史，請備妥個人藥物"),t("li",null,"互相照顧，謝絕獨行俠")])],-1)),Z={class:"text-light p-3"},$=c(()=>t("h3",{class:"mb-3"},"活動介紹",-1)),tt={class:"mb-3 h6"},ot={class:"d-flex justify-content-center my-5"};function et(s,e,st,it,o,nt){var a;const p=h("loadingVue"),y=h("RouterLink");return n(),d(g,null,[u(p,{active:o.loading,"onUpdate:active":e[0]||(e[0]=i=>o.loading=i)},null,8,["active"]),u(p,{active:s.isLoading,"onUpdate:active":e[1]||(e[1]=i=>s.isLoading=i)},null,8,["active"]),E,t("div",U,[t("div",F,[t("div",N,[t("img",{src:o.product.imageUrl,class:"img-fluid",alt:"",style:{width:"100%",height:"280px","object-fit":"cover"}},null,8,R)]),t("div",j,[t("h1",B,r(o.product.title),1),o.product.tag?(n(),d("div",H,[(n(!0),d(g,null,P(o.product.tag,(i,l)=>(n(),d("span",{class:"badge bg-primary me-2",style:{"font-size":"14px"},key:l+"tag"},r(i),1))),128))])):T("",!0),o.product.price===o.product.origin_price?(n(),d("div",M,r(o.product.price)+" 元",1)):(n(),d("div",O,[t("del",z," NT$ "+r(o.product.origin_price)+" 元",1),t("div",G," NT$ "+r(o.product.price)+" 元",1)])),J,t("div",K,[t("div",Q,[t("button",{type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=i=>o.qty-=1),disabled:o.qty<=1},"-",8,W),V(t("input",{id:"qty","onUpdate:modelValue":e[3]||(e[3]=i=>o.qty=i),type:"number",min:"0",class:"form-control",style:{"text-align":"center"}},null,512),[[x,o.qty]]),t("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=i=>o.qty+=1)},"+")]),t("button",{type:"button",class:"ms-2 btn btn-primary",onClick:e[5]||(e[5]=i=>s.addToCart(o.product.id,o.qty))},"加入購物車")]),t("div",X,[(a=s.favoriteIDs)!=null&&a.product.includes(o.product.id)?(n(),d("button",{key:0,type:"button",class:"ms-2 btn btn-cpink",onClick:e[6]||(e[6]=i=>{var l;return s.removeFavoriteItem((l=s.favoriteIDs)==null?void 0:l.favorite[s.favoriteIDs.product.findIndex(f=>f===o.product.id)])})},"已收藏")):(n(),d("button",{key:1,type:"button",class:"ms-2 btn btn-outline-cpink",onClick:e[7]||(e[7]=i=>s.addToFavorite(o.product.id))},"收藏此項目"))])])]),Y,t("div",Z,[$,t("span",tt,r(o.product.description),1)]),t("div",ot,[u(y,{to:"/products",class:"btn btn-outline-secondary"},{default:C(()=>[w("查看其他行程")]),_:1})])])],64)}const at=I(A,[["render",et],["__scopeId","data-v-d0f251d1"]]);export{at as default};
