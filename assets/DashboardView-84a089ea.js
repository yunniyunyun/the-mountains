import{_,R as v,r as l,o as u,c as h,b as t,d as e,w as s,k as m,h as k,F as f,a as n}from"./index-811e4a0b.js";const{VITE_APP_URL:b}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"winter_",BASE_URL:"/vue-hw-7/",MODE:"production",DEV:!1,PROD:!0},x={data(){return{isLogin:!1,isLoading:!1}},components:{RouterView:v},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.isLogin=!1,this.$router.push("/login")},checkLogin(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=c,this.$http.post(`${b}/api/user/check`).then(o=>{this.isLoading=!1,this.isLogin=!0,o.data.success||this.$router.push("/login")}).catch(()=>{this.isLoading=!1,this.$router.push("/login")})}},mounted(){this.isLoading=!0,this.checkLogin()}},L={key:0},V={class:"navbar navbar-expand-lg navbar-dark bg-dark"},w={class:"container-fluid"},A=e("a",{class:"navbar-brand",href:"#"},"Navbar",-1),$=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),N={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},P={class:"navbar-nav"};function R(c,o,T,E,i,d){const p=l("loadingVue"),a=l("router-link"),g=l("RouterView");return u(),h(f,null,[t(p,{active:i.isLoading,"onUpdate:active":o[0]||(o[0]=r=>i.isLoading=r)},null,8,["active"]),i.isLogin?(u(),h("div",L,[e("nav",V,[e("div",w,[A,$,e("div",N,[e("div",P,[t(a,{to:"/admin/products",class:"p-2 me-2 text-decoration-none link-light"},{default:s(()=>[n(" 產品列表")]),_:1}),t(a,{to:"/admin/orders",class:"p-2 me-2 text-decoration-none link-light"},{default:s(()=>[n(" 訂單列表")]),_:1}),t(a,{to:"/admin/coupons",class:"p-2 me-2 text-decoration-none link-light"},{default:s(()=>[n(" 優惠券")]),_:1}),t(a,{to:"/admin/article",class:"p-2 me-2 text-decoration-none link-light"},{default:s(()=>[n(" 文章")]),_:1}),t(a,{to:"/",class:"p-2 me-2 text-decoration-none link-light"},{default:s(()=>[n(" 回前台首頁")]),_:1}),e("a",{href:"#",onClick:o[1]||(o[1]=m((...r)=>d.logout&&d.logout(...r),["prevent"])),class:"p-2 me-2 text-decoration-none link-light"},"登出")])])])]),t(g)])):k("",!0)],64)}const M=_(x,[["render",R]]);export{M as default};
