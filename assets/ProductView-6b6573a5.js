import{c as g}from"./cartStore-dcdd3e0a.js";import{l as k}from"./loadingStore-abd78020.js";import{f as m}from"./favoriteStore-8f8df884.js";import{m as _,b}from"./pinia-e6b04fcb.js";import{l as P}from"./runtime-dom.esm-bundler-ff2db17e.js";import{b7 as I,aw as h,ak as i,m as n,u,n as o,aK as d,F as v,au as T,l as V,b4 as C,b2 as x,t as w,ao as q,al as D}from"./_plugin-vue_export-helper-21b08155.js";import"./sweetalert2.all-fda0963d.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-396b3cb0.js";import"./vue-router-d7550456.js";import"./productsStore-b02ff11e.js";const{VITE_APP_URL:S,VITE_APP_PATH:A}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"winter_",BASE_URL:"/the-mountains/",MODE:"production",DEV:!1,PROD:!0},E={data(){return{loading:!1,product:{},qty:1}},computed:{..._(k,["isLoading"]),..._(m,["favoriteIDs"])},methods:{...b(g,["addToCart","toCartPage"]),...b(m,["addToFavorite","removeFavoriteItem"]),grtProduct(){this.loading=!0;const{id:e}=this.$route.params;this.$http.get(`${S}/api/${A}/product/${e}`).then(s=>{this.product=s.data.product,this.loading=!1})}},mounted(){this.loading=!0,this.grtProduct()}},c=e=>(q("data-v-b5da04cf"),e=e(),D(),e),L=c(()=>o("div",{class:"header"},null,-1)),F={class:"container"},N={class:"row mt-5"},R={class:"col-md-5 mb-3 mb-md-0"},j=["src","alt"],U={class:"col-md-7 text-light"},B={class:"mb-2"},H={key:0,class:"mb-3"},M={key:1,class:"text-secondary mb-3"},O={key:2,class:"text-secondary mb-3"},z={key:3,class:"h5 text-end"},K={key:4,class:"d-flex align-items-end justify-content-end"},G={class:"h6 me-2"},J={class:"h4"},Q=c(()=>o("hr",null,null,-1)),W={class:"d-flex justify-content-end"},X={class:"input-group input-group-sm",style:{width:"120px"}},Y=["disabled"],Z={class:"d-flex justify-content-end mt-3"},$=c(()=>o("div",{class:"text-light p-5 bg-dark my-4"},[o("h3",null,"注意事項"),o("ol",{class:"mb-0 h5",style:{"line-height":"2em"}},[o("li",null,"本產品包含申請入山入園證，請提供正確的個人資料"),o("li",null,"如有特殊病史，請備妥個人藥物"),o("li",null,"互相照顧，謝絕獨行俠")])],-1)),tt={class:"text-light p-3"},ot=c(()=>o("h3",{class:"mb-3"},"活動介紹",-1)),et={class:"mb-3 h6"},st={class:"d-flex justify-content-center my-5"};function it(e,s,nt,rt,t,dt){var a;const p=h("loadingVue"),y=h("RouterLink");return i(),n(v,null,[u(p,{active:t.loading},null,8,["active"]),u(p,{active:e.isLoading},null,8,["active"]),L,o("div",F,[o("div",N,[o("div",R,[o("img",{src:t.product.imageUrl,class:"img-fluid w-100",alt:t.product.title,style:{height:"280px","object-fit":"cover"}},null,8,j)]),o("div",U,[o("h1",B,d(t.product.title),1),t.product.tag?(i(),n("div",H,[(i(!0),n(v,null,T(t.product.tag,(r,l)=>(i(),n("span",{class:"badge bg-primary me-2 fz-14",key:l+"tag"},d(r),1))),128))])):V("",!0),t.product.start_time!=t.product.end_time?(i(),n("h5",M,d(e.$filters.date(t.product.start_time))+" - "+d(e.$filters.date(t.product.end_time)),1)):(i(),n("h5",O,d(e.$filters.date(t.product.start_time)),1)),t.product.price===t.product.origin_price?(i(),n("div",z,d(t.product.price)+" 元",1)):(i(),n("div",K,[o("del",G," NT$ "+d(t.product.origin_price)+" 元",1),o("div",J," NT$ "+d(t.product.price)+" 元",1)])),Q,o("div",W,[o("div",X,[o("button",{type:"button",class:"btn btn-secondary",onClick:s[0]||(s[0]=r=>t.qty-=1),disabled:t.qty<=1},"-",8,Y),C(o("input",{id:"qty","onUpdate:modelValue":s[1]||(s[1]=r=>t.qty=r),type:"number",min:"0",class:"form-control",style:{"text-align":"center"}},null,512),[[P,t.qty]]),o("button",{type:"button",class:"btn btn-secondary",onClick:s[2]||(s[2]=r=>t.qty+=1)},"+")]),o("button",{type:"button",class:"ms-2 btn btn-primary",onClick:s[3]||(s[3]=r=>e.addToCart(t.product.id,t.qty))},"加入購物車")]),o("div",Z,[(a=e.favoriteIDs)!=null&&a.product.includes(t.product.id)?(i(),n("button",{key:0,type:"button",class:"ms-2 btn btn-cpink",onClick:s[4]||(s[4]=r=>{var l;return e.removeFavoriteItem((l=e.favoriteIDs)==null?void 0:l.favorite[e.favoriteIDs.product.findIndex(f=>f===t.product.id)])})},"已收藏")):(i(),n("button",{key:1,type:"button",class:"ms-2 btn btn-outline-cpink",onClick:s[5]||(s[5]=r=>e.addToFavorite(t.product.id))},"收藏此項目")),o("button",{type:"button",class:"ms-2 btn btn-danger",onClick:s[6]||(s[6]=r=>e.toCartPage(t.product.id,t.qty))},"直接購買")])])]),$,o("div",tt,[ot,o("span",et,d(t.product.description),1)]),o("div",st,[u(y,{to:"/products",class:"btn btn-outline-secondary"},{default:x(()=>[w("查看其他行程")]),_:1})])])],64)}const ft=I(E,[["render",it],["__scopeId","data-v-b5da04cf"]]);export{ft as default};
