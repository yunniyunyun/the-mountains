import{c as h}from"./cartStore-4a06c72c.js";import{l as k}from"./loadingStore-abd78020.js";import{o as _}from"./orderStore-f2516c41.js";import{m as p,b as f}from"./pinia-e6b04fcb.js";import{l as C}from"./runtime-dom.esm-bundler-ff2db17e.js";import{b7 as S,aw as i,ak as u,m as b,u as a,n as e,b2 as g,F as v,au as U,l as B,aK as c,a4 as m,b4 as E,t as F,ao as L,al as N}from"./_plugin-vue_export-helper-21b08155.js";import"./sweetalert2.all-fda0963d.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-56da9e5c.js";import"./vue-router-d7550456.js";const j=h(),q={data(){return{}},computed:{...p(h,["cart"]),...p(k,["isLoading"]),...p(_,["order"])},methods:{...f(h,["getCarts"]),...f(_,["createOrder"]),isPhone(t){return t?/^(09)[0-9]{8}$/.test(t)?!0:"需要正確的電話號碼":"電話 為必填"}},mounted(){j.getCarts()}},l=t=>(L("data-v-65598e8a"),t=t(),N(),t),I=l(()=>e("div",{class:"header"},null,-1)),$={class:"container mb-5"},z=l(()=>e("div",{class:"d-none d-md-flex justify-content-center text-secondary",style:{"margin-top":"60px"}},[e("div",{class:"position-relative m-4",style:{width:"60%"}},[e("div",{class:"progress",style:{height:"4px"}},[e("div",{class:"progress-bar",role:"progressbar",style:{width:"66%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),e("button",{type:"button",class:"position-absolute top-0 start-0 translate-middle btn btn-sm btn-primary rounded-pill d-flex align-items-center justify-content-center",style:{width:"2rem",height:"2rem"}},[e("div",{style:{width:"0.5rem",height:"0.5rem",background:"#fff","border-radius":"99em"}})]),e("h5",{class:"position-absolute",style:{top:"-26px",left:"calc((33% - 5rem)/2)",color:"#1FBA82"}},"1.確認內容"),e("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-primary rounded-pill",style:{width:"2rem",height:"2rem",left:"33%"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-right-fill",viewBox:"0 0 16 16"},[e("path",{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})])]),e("h5",{class:"position-absolute",style:{top:"-26px",left:"calc(32% + (33% - 5rem)/2)",color:"#1FBA82"}},"2.填寫資料"),e("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",left:"66%"}}),e("h5",{class:"position-absolute",style:{top:"-26px",left:"calc(65% + (33% - 5rem)/2)"}},"3.訂單完成"),e("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",left:"99%"}})])],-1)),A=l(()=>e("h2",{class:"mt-5 text-light text-center mb-4"},"訂單資料",-1)),D={class:"row text-light"},O=l(()=>e("div",{class:"col-1"},null,-1)),P={class:"mb-3 row"},R=l(()=>e("label",{for:"email",class:"form-label col-xl-3"},"Email*",-1)),T={class:"mb-3 row"},K=l(()=>e("label",{for:"name",class:"form-label col-xl-3"},"收件人姓名*",-1)),M={class:"mb-3 row"},G=l(()=>e("label",{for:"tel",class:"form-label col-xl-3"},"收件人電話*",-1)),H={class:"mb-3 row"},J=l(()=>e("label",{for:"address",class:"form-label col-xl-3"},"收件人地址*",-1)),Q={class:"mb-3"},W=l(()=>e("label",{for:"message",class:"form-label"},"留言",-1)),X={class:"text-end"},Y={class:"d-flex justify-content-end mt-4"},Z=l(()=>e("button",{href:"#",type:"submit",class:"btn btn-primary"},"下一步 | 確認訂單",-1)),ee=l(()=>e("div",{class:"col-1"},null,-1)),te={class:"d-none d-md-block col-4"},se={class:"table align-middle text-light sticky-top",style:{top:"80px","z-index":"-5"}},oe={class:"position-relative",style:{height:"80px",width:"120px"}},le=["src","alt"],ae={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary"},re={class:"text-end"},ie=l(()=>e("td",{colspan:"2",class:"text-end text-success"},"結帳金額",-1)),ne={class:"text-end text-success"};function de(t,s,ce,me,pe,y){const x=i("loadingVue"),n=i("v-field"),d=i("error-message"),w=i("RouterLink"),V=i("VForm");return u(),b(v,null,[a(x,{active:t.isLoading,"onUpdate:active":s[0]||(s[0]=o=>t.isLoading=o)},null,8,["active"]),I,e("div",$,[z,A,e("div",D,[O,a(V,{ref:"form",class:"col-md-5",onSubmit:t.createOrder},{default:g(({errors:o})=>[e("div",P,[R,a(n,{id:"email",name:"Email",type:"email",class:m(["form-control col ms-3 ms-xl-0",{"is-invalid":o.Email}]),rules:"email|required",modelValue:t.order.user.email,"onUpdate:modelValue":s[1]||(s[1]=r=>t.order.user.email=r),placeholder:"請輸入 Email",style:{"margin-right":"12px"}},null,8,["modelValue","class"]),a(d,{name:"Email",class:"invalid-feedback"})]),e("div",T,[K,a(n,{id:"name",name:"姓名",type:"text",class:m(["form-control col ms-3 ms-xl-0",{"is-invalid":o.姓名}]),modelValue:t.order.user.name,"onUpdate:modelValue":s[2]||(s[2]=r=>t.order.user.name=r),placeholder:"請輸入姓名",rules:"required",style:{"margin-right":"12px"}},null,8,["class","modelValue"]),a(d,{name:"姓名",class:"invalid-feedback"})]),e("div",M,[G,a(n,{id:"tel",name:"電話",type:"text",class:m(["form-control col ms-3 ms-xl-0",{"is-invalid":o.電話}]),rules:y.isPhone,modelValue:t.order.user.tel,"onUpdate:modelValue":s[3]||(s[3]=r=>t.order.user.tel=r),placeholder:"請輸入電話",style:{"margin-right":"12px"}},null,8,["class","rules","modelValue"]),a(d,{name:"電話",class:"invalid-feedback"})]),e("div",H,[J,a(n,{id:"address",name:"地址",type:"text",class:m(["form-control col ms-3 ms-xl-0",{"is-invalid":o.地址}]),modelValue:t.order.user.address,"onUpdate:modelValue":s[4]||(s[4]=r=>t.order.user.address=r),style:{"margin-right":"12px"},placeholder:"請輸入地址",rules:"required"},null,8,["class","modelValue"]),a(d,{name:"地址",class:"invalid-feedback"})]),e("div",Q,[W,E(e("textarea",{id:"message",class:"form-control",cols:"30",rows:"5","onUpdate:modelValue":s[5]||(s[5]=r=>t.order.message=r)},null,512),[[C,t.order.message]])]),e("div",X,[e("div",Y,[a(w,{to:"/cart",class:"btn btn-outline-primary me-2"},{default:g(()=>[F("上一步")]),_:1}),Z])])]),_:1},8,["onSubmit"]),ee,e("div",te,[e("table",se,[e("tbody",null,[t.cart.carts?(u(!0),b(v,{key:0},U(t.cart.carts,o=>(u(),b("tr",{key:o.id},[e("td",null,[e("div",oe,[e("img",{src:o.product.imageUrl,class:"table-image me-3",alt:o.product.title,style:{height:"80px","object-fit":"cover",width:"120px"}},null,8,le),e("span",ae,c(o.qty),1)])]),e("td",null,c(o.product.title),1),e("td",re,c(o.final_total),1)]))),128)):B("",!0)]),e("tfoot",null,[e("tr",null,[ie,e("td",ne,c(t.cart.final_total),1)])])])])])])],64)}const Ve=S(q,[["render",de],["__scopeId","data-v-65598e8a"]]);export{Ve as default};
