import{c as f}from"./cartStore-4a06c72c.js";import{l as k}from"./loadingStore-abd78020.js";import{f as m}from"./favoriteStore-8f8df884.js";import{m as _,b as v}from"./pinia-e6b04fcb.js";import{l as P}from"./runtime-dom.esm-bundler-ff2db17e.js";import{b7 as I,aw as b,ak as n,m as r,u as p,n as o,aK as d,F as h,au as T,l as V,b4 as C,b2 as x,t as w,ao as q,al as D}from"./_plugin-vue_export-helper-21b08155.js";import"./sweetalert2.all-fda0963d.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-56da9e5c.js";import"./vue-router-d7550456.js";import"./productsStore-b02ff11e.js";const{VITE_APP_URL:L,VITE_APP_PATH:S}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"winter_",BASE_URL:"/the-mountains/",MODE:"production",DEV:!1,PROD:!0},A={data(){return{loading:!1,product:{},qty:1}},computed:{..._(k,["isLoading"]),..._(m,["favoriteIDs"])},methods:{...v(f,["addToCart","toCartPage"]),...v(m,["addToFavorite","removeFavoriteItem"]),grtProduct(){this.loading=!0;const{id:s}=this.$route.params;this.$http.get(`${L}/api/${S}/product/${s}`).then(e=>{this.product=e.data.product,this.loading=!1})}},mounted(){this.loading=!0,this.grtProduct()}},c=s=>(q("data-v-04389387"),s=s(),D(),s),E=c(()=>o("div",{class:"header"},null,-1)),U={class:"container"},F={class:"row mt-5"},N={class:"col-md-5 mb-3 mb-md-0"},R=["src"],j={class:"col-md-7 text-light"},B={class:"mb-2"},H={key:0,class:"mb-3"},M={key:1,class:"text-secondary mb-3"},O={key:2,class:"text-secondary mb-3"},z={key:3,class:"h5 text-end"},K={key:4,class:"d-flex align-items-end justify-content-end"},G={class:"h6 me-2"},J={class:"h4"},Q=c(()=>o("hr",null,null,-1)),W={class:"d-flex justify-content-end"},X={class:"input-group input-group-sm",style:{width:"120px"}},Y=["disabled"],Z={class:"d-flex justify-content-end mt-3"},$=c(()=>o("div",{class:"text-light p-5 bg-dark my-4"},[o("h3",null,"注意事項"),o("ol",{class:"mb-0 h5",style:{"line-height":"2em"}},[o("li",null,"本產品包含申請入山入園證，請提供正確的個人資料"),o("li",null,"如有特殊病史，請備妥個人藥物"),o("li",null,"互相照顧，謝絕獨行俠")])],-1)),tt={class:"text-light p-3"},ot=c(()=>o("h3",{class:"mb-3"},"活動介紹",-1)),et={class:"mb-3 h6"},st={class:"d-flex justify-content-center my-5"};function it(s,e,nt,rt,t,dt){var a;const u=b("loadingVue"),y=b("RouterLink");return n(),r(h,null,[p(u,{active:t.loading,"onUpdate:active":e[0]||(e[0]=i=>t.loading=i)},null,8,["active"]),p(u,{active:s.isLoading,"onUpdate:active":e[1]||(e[1]=i=>s.isLoading=i)},null,8,["active"]),E,o("div",U,[o("div",F,[o("div",N,[o("img",{src:t.product.imageUrl,class:"img-fluid",alt:"",style:{width:"100%",height:"280px","object-fit":"cover"}},null,8,R)]),o("div",j,[o("h1",B,d(t.product.title),1),t.product.tag?(n(),r("div",H,[(n(!0),r(h,null,T(t.product.tag,(i,l)=>(n(),r("span",{class:"badge bg-primary me-2",style:{"font-size":"14px"},key:l+"tag"},d(i),1))),128))])):V("",!0),t.product.start_time!=t.product.end_time?(n(),r("h5",M,d(s.$filters.date(t.product.start_time))+" - "+d(s.$filters.date(t.product.end_time)),1)):(n(),r("h5",O,d(s.$filters.date(t.product.start_time)),1)),t.product.price===t.product.origin_price?(n(),r("div",z,d(t.product.price)+" 元",1)):(n(),r("div",K,[o("del",G," NT$ "+d(t.product.origin_price)+" 元",1),o("div",J," NT$ "+d(t.product.price)+" 元",1)])),Q,o("div",W,[o("div",X,[o("button",{type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=i=>t.qty-=1),disabled:t.qty<=1},"-",8,Y),C(o("input",{id:"qty","onUpdate:modelValue":e[3]||(e[3]=i=>t.qty=i),type:"number",min:"0",class:"form-control",style:{"text-align":"center"}},null,512),[[P,t.qty]]),o("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=i=>t.qty+=1)},"+")]),o("button",{type:"button",class:"ms-2 btn btn-primary",onClick:e[5]||(e[5]=i=>s.addToCart(t.product.id,t.qty))},"加入購物車")]),o("div",Z,[(a=s.favoriteIDs)!=null&&a.product.includes(t.product.id)?(n(),r("button",{key:0,type:"button",class:"ms-2 btn btn-cpink",onClick:e[6]||(e[6]=i=>{var l;return s.removeFavoriteItem((l=s.favoriteIDs)==null?void 0:l.favorite[s.favoriteIDs.product.findIndex(g=>g===t.product.id)])})},"已收藏")):(n(),r("button",{key:1,type:"button",class:"ms-2 btn btn-outline-cpink",onClick:e[7]||(e[7]=i=>s.addToFavorite(t.product.id))},"收藏此項目")),o("button",{type:"button",class:"ms-2 btn btn-danger",onClick:e[8]||(e[8]=i=>s.toCartPage(t.product.id,t.qty))},"直接購買")])])]),$,o("div",tt,[ot,o("span",et,d(t.product.description),1)]),o("div",st,[p(y,{to:"/products",class:"btn btn-outline-secondary"},{default:x(()=>[w("查看其他行程")]),_:1})])])],64)}const gt=I(A,[["render",it],["__scopeId","data-v-04389387"]]);export{gt as default};
